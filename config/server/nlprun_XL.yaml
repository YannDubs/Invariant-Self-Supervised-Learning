# @package _global_
defaults:
  - base_submitit
  - override /hydra/launcher: submitit_slurm

is_nlp_cluster: True

hydra:
  launcher:
    # slurm partition to use on the cluster
    partition: jag-standard # jag-hi, jag-important, jag-standard, john (CPU)
    comment: null
    constraint: a5000
    exclude: null
    array_parallelism: 30 # max number of parallel tasks
    # maximum time for the job in minutes
    timeout_min: 5760
    # number of cpus to use for each task
    cpus_per_task: 12
    # memory to reserve for the job on each node (in GB)
    mem_gb: 120

    max_num_timeout: 50 # allow resume from checkpointing
    gres: gpu:a5000:${trainer.gpus}